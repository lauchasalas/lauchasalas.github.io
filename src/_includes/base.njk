<!DOCTYPE html>
<html lang="es">
  {% include "head.njk" %}
  <body class="pt-16 bg-gray-50 text-gray-900 font-sans">
    <!-- HEADER -->
    <header>
      <nav class="container-custom flex items-center justify-between h-16">
        <a href="/" class="text-xl font-bold">Lautaro Salas Ane</a>
        <ul class="hidden md:flex space-x-6">
          <li><a href="#sobre-mi" class="nav-link">Sobre mí</a></li>
          <li><a href="#portfolio" class="nav-link">Portfolio</a></li>
          <li><a href="#galeria" class="nav-link">Galería</a></li>
          <li><a href="#contacto" class="nav-link">Contacto</a></li>
        </ul>
        <button id="mobile-menu-button" class="md:hidden p-2">
          <span class="block w-5 h-0.5 bg-white mb-1"></span>
          <span class="block w-5 h-0.5 bg-white mb-1"></span>
          <span class="block w-5 h-0.5 bg-white"></span>
        </button>
      </nav>
      <ul id="mobile-menu" class="hidden bg-gray-800 text-white">
        <li><a href="#sobre-mi" class="block px-4 py-2">Sobre mí</a></li>
        <li><a href="#portfolio" class="block px-4 py-2">Portfolio</a></li>
        <li><a href="#galeria" class="block px-4 py-2">Galería</a></li>
        <li><a href="#contacto" class="block px-4 py-2">Contacto</a></li>
      </ul>
    </header>

    <main>{{ content | safe }}</main>

    {% include "footer.njk" %}

    <!-- Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>
    <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
    <script>
      AOS.init({ duration: 800, once: true });

      // Menú móvil
      document.getElementById("mobile-menu-button").onclick = () => {
        document.getElementById("mobile-menu").classList.toggle("hidden");
      };

      // Resaltar sección activa
      const sections = document.querySelectorAll("section[id]");
      const navLinks = document.querySelectorAll("nav a.nav-link");
      window.addEventListener("scroll", () => {
        const scrollY = window.pageYOffset;
        sections.forEach(sec => {
          const top = sec.offsetTop - 100;
          const bottom = top + sec.offsetHeight;
          const link = document.querySelector(`nav a[href="#${sec.id}"]`);
          if (scrollY >= top && scrollY < bottom) {
            navLinks.forEach(a => a.classList.remove("active"));
            if (link) link.classList.add("active");
          }
        });
      });

      // Back to Top
      const toTop = document.getElementById("toTop");
      window.addEventListener("scroll", () => {
        toTop.classList.toggle("show", window.pageYOffset > 400);
      });
      toTop.onclick = () =>
        window.scrollTo({ top: 0, behavior: "smooth" });
    </script>
  </body>
</html>
